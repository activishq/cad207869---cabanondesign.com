!function($){"use strict";var app="";$("html"),$("body"),$(window);app={init:function(){app.dynamicform(),app.tagmanager()},dynamicform:function(){$(document).on("nfFormReady",function(e,layoutView){var dynamicform_timer=0;$(".nf-form-wrap form").on("focusout",".ninja-forms-field",function(){var dynamicform_array={};$(this).closest("form").find(".ninja-forms-field").each(function(){dynamicform_array[$(this).attr("name")]=$(this).val()}),clearTimeout(dynamicform_timer),dynamicform_timer=setTimeout(function(){$.ajax({type:"post",dataType:"json",url:vars.ajax,data:{action:"ajaxEventDynamicForm",nonce:vars.nonce,dynamicform:dynamicform_array},beforeSend:function(data){},success:function(response){}})},1e3)})})},tagmanager:function(){0<$(".tagmanager-click").length&&$(".tagmanager-click").each(function(){var tagmanagerTarget=$(this).data("tagmanager-target"),tagmanagerCategory=$(this).data("tagmanager-category"),tagmanagerAction=$(this).data("tagmanager-action"),tagmanagerLabel=$(this).data("tagmanager-label");""!=tagmanagerTarget&&""!=tagmanagerCategory&&""!=tagmanagerAction&&""!=tagmanagerLabel&&0<$(this).find(tagmanagerTarget).length&&$(this).find(tagmanagerTarget).click(function(e){dataLayer.push({event:"gaEvent",eventCategory:tagmanagerCategory,eventAction:tagmanagerAction,eventLabel:tagmanagerLabel})})}),new(Marionette.Object.extend({initialize:function(){this.listenTo(Backbone.Radio.channel("forms"),"submit:response",this.actionSubmit)},actionSubmit:function(response){"1"==response.data.form_id?dataLayer.push({event:"gaEvent",eventCategory:"Form",eventAction:"Submit",eventLabel:"Contact Me"}):"2"==response.data.form_id?dataLayer.push({event:"gaEvent",eventCategory:"Form",eventAction:"Submit",eventLabel:"Formulaire de soumission"}):"3"==response.data.form_id?dataLayer.push({event:"gaEvent",eventCategory:"Form",eventAction:"Submit",eventLabel:"Demande de rendez-vous"}):"4"==response.data.form_id?dataLayer.push({event:"gaEvent",eventCategory:"Form",eventAction:"Submit",eventLabel:"Devenir un distributeur"}):"5"==response.data.form_id?dataLayer.push({event:"gaEvent",eventCategory:"Form",eventAction:"Submit",eventLabel:"Demande de rendez-vous - Page"}):"7"==response.data.form_id?dataLayer.push({event:"gaEvent",eventCategory:"Form",eventAction:"Submit",eventLabel:"Request a quote"}):"9"==response.data.form_id?dataLayer.push({event:"gaEvent",eventCategory:"Form",eventAction:"Submit",eventLabel:"Book your home appointment"}):"11"==response.data.form_id&&dataLayer.push({event:"gaEvent",eventCategory:"Form",eventAction:"Submit",eventLabel:"Become a distributor"})}}))}},$(document).ready(function(){app.init()})}(jQuery);