!function($){"use strict";var preload="",app="",$body=($(".app"),$("html"),$("body")),$siteHeader=$(".header"),$siteMain=$(".site-main"),$siteFooter=$(".site-footer"),$window=$(window),isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iOS|iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};preload={init:function(){preload.load()},load:function(){var $siteHeaderHeight=$siteHeader.outerHeight();$body.hasClass("header-is-sticky")&&$siteMain.css("padding-top",$siteHeaderHeight),$body.hasClass("header-is-sticky-resize-on-scroll")&&$siteMain.css("padding-top",$siteHeaderHeight),app.init()}},app={init:function(){app.load(),app.header(),app.navigation(),app.infinitescroll(),app.dynamicform(),app.ui()},load:function(){setTimeout(function(){$siteMain.addClass("loaded"),$siteFooter.addClass("loaded")},750)},header:function(){var $sidebar="";($sidebar=new TimelineMax({paused:!0,reversed:!0})).add(TweenMax.to("#sidebar",.1,{visibility:"visible"})).add(TweenMax.to("body, html",.1,{overflow:"hidden"})).add(TweenMax.to("body",.1,{className:"+=nav--is-open"})).add(TweenMax.to("#sidebar",.55,{x:0,ease:Power4.easeInOut}),"=-0.1").add(TweenMax.staggerTo(".menu-item a",.15,{y:"0%",ease:Power4.easeInOut},0),"=-0.15"),$(document).on("click",".hamburger",function(e){$body.hasClass("nav--is-open")||($sidebar.reversed()?$sidebar.play().timeScale(1):$sidebar.reverse())}),$(document).on("click",".app",function(e){$body.hasClass("nav--is-open")&&($sidebar.reversed()?$sidebar.play().timeScale(1):$sidebar.reverse())}),$(document).on("keyup",function(e){27==e.keyCode&&$body.hasClass("nav--is-open")&&($sidebar.reversed()?$sidebar.play().timeScale(1):$sidebar.reverse())})},navigation:function(){var navListItems=$(".menu > li"),hoverIntentconfig={sensitivity:3,interval:150,over:function(){$(this).toggleClass("menu-open"),$(this).find(".sub-menu").toggle(300,"easeInOutExpo")},timeout:150,out:function(){$(this).toggleClass("menu-open"),$(this).find(".sub-menu").toggle(300,"easeInOutExpo")}};$.fn.toggle=function(speed,easing){return this.animate({opacity:"toggle",height:"toggle"},speed,easing)},isMobile.any()?navListItems.on("tap",function(e){e.preventDefault(),$(this).toggleClass("menu-open"),$(this).find(".sub-menu").toggle(300,"easeInOutExpo")}):navListItems.hoverIntent(hoverIntentconfig)},woocommerce:function(){$(".account-tab-list").on("click",".account-tab-link",function(){if($(".account-tab-link").hasClass("registration_disabled"))return!1;var that=$(this),target=that.attr("href");return that.parent().siblings().find(".account-tab-link").removeClass("current"),that.addClass("current"),$(".account-forms").find($(target)).siblings().stop().fadeOut(function(){$(".account-forms").find($(target)).fadeIn()}),!1}),$(".account-tab-link-register").on("click",function(){return $(".login-form").stop().fadeOut(function(){$(".register-form").fadeIn()}),!1}),$(".account-tab-link-login").on("click",function(){return $(".register-form").stop().fadeOut(function(){$(".login-form").fadeIn()}),!1}),$(".quantity .plus").on("click",function(e){var $input=$(this).prev(".qty"),$val=parseInt($input.val());$input.val($val+1).change()}),$(".quantity .minus").on("click",function(e){var $input=$(this).next(".qty"),$val=parseInt($input.val());0<$val&&$input.val($val-1).change()})},minicart:function(){var notificationContent="";$("body").on("click",".ajax_add_to_cart",function(){$(".woocommerce-message").remove();var imgSrc=$(this).parents("li").find("img.attachment-large").attr("src"),prodTitle=$(this).parents("li").find(".woocommerce-loop-product__title").html();notificationContent=void 0!==imgSrc&&void 0!==prodTitle&&'<div class="woocommerce-message"><div class="product_notification_wrapper"><div class="product_notification_background" style="background-image:url('+imgSrc+')"></div><div class="product_notification_text">&quot;'+prodTitle+"&quot;"+vars.addedToCartMessage+"</div></div></div>"}),$(document).on("added_to_cart",function(event,data){0!=notificationContent&&$(".app").prepend(notificationContent)})},infinitescroll:function(){var $container=$(".grid-layout");$container.length&&$container.imagesLoaded(function(){$container.masonry({itemSelector:".grid-item",columnWidth:".grid-sizer",percentPosition:!0})}),$container.infinitescroll({navSelector:".navigation",nextSelector:".navigation a",itemSelector:".grid-item",isAnimated:!1,debug:!0,loading:{finished:void 0,finishedMsg:null,msg:null,img:vars.home+"/public/svg/loading.svg",msgText:vars.loadingText,selector:null,speed:"fast",start:void 0}},function(newElements){var $newElems=$(newElements).css({opacity:0});$newElems.imagesLoaded(function(){$newElems.animate({opacity:1}),$container.masonry("appended",$newElems,!0)})}),$(document).ajaxError(function(e,xhr,opt){404==xhr.status&&jQuery(".navigation a").remove()})},dynamicform:function(){$(document).on("nfFormReady",function(e,layoutView){var dynamicform_timer=0;$(".nf-form-wrap form").on("focusout",".ninja-forms-field",function(){var dynamicform_array={};$(this).closest("form").find(".ninja-forms-field").each(function(){dynamicform_array[$(this).attr("name")]=$(this).val()}),clearTimeout(dynamicform_timer),dynamicform_timer=setTimeout(function(){$.ajax({type:"post",dataType:"json",url:vars.ajax,data:{action:"ajaxEventDynamicForm",nonce:vars.nonce,dynamicform:dynamicform_array},beforeSend:function(data){},success:function(response){}})},2e3)})})},ui:function(){for(var list=document.querySelectorAll("div[data-image]"),i=0;i<list.length;i++){var url=list[i].getAttribute("data-image");list[i].style.backgroundImage="url('"+url+"')"}var $btt=$(".ui-to-top");$window.scroll(function(){100<$(this).scrollTop()?$btt.addClass("is--visible"):$btt.removeClass("is--visible fade--out"),1200<$(this).scrollTop()&&$btt.addClass("fade--out")}),$btt.on("click",function(event){event.preventDefault(),$("html, body").animate({scrollTop:0},500)})},resize:function(){$window.width()<1280?$body.addClass("is-mobile"):$body.removeClass("is-mobile")},scroll:function(){250<=$(window).scrollTop()?$body.addClass("device--has-scrolled"):$body.removeClass("device--has-scrolled")}},$(window).on("resize",function(){app.resize()}).resize(),$(window).scroll(function(){app.scroll()}),$(document).ready(function(){preload.init()})}(jQuery);